# Migration `20201015220805-migration`

This migration has been generated by A. David Thyresson at 10/15/2020, 6:08:05 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."ArticlePriority" (
"id" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"articleId" text   NOT NULL ,
"uid" text   NOT NULL ,
"label" text   NOT NULL ,
PRIMARY KEY ("id")
)

CREATE TABLE "public"."ArticlePriorityTerm" (
"id" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"articlePriorityId" text   ,
"uid" text   NOT NULL ,
"label" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."ArticlePriority" ADD FOREIGN KEY ("articleId")REFERENCES "public"."Article"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."ArticlePriorityTerm" ADD FOREIGN KEY ("articlePriorityId")REFERENCES "public"."ArticlePriority"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201015145807-migration..20201015220805-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,9 +1,9 @@
 datasource DS {
   // optionally set multiple providers
   // example: provider = ["sqlite", "postgresql"]
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider        = "prisma-client-js"
@@ -47,8 +47,9 @@
   tags              Tag[]
   tweets            Tweet[]
   articleCategories ArticleCategory[]
   summaries         ArticleSummaries[]
+  ArticlePriority   ArticlePriority[]
 }
 model ArticleCategory {
   id        String   @id @default(cuid())
@@ -68,8 +69,29 @@
   articleId String
   content   Json
 }
+model ArticlePriority {
+  id                   String                @id @default(cuid())
+  createdAt            DateTime              @default(now())
+  updatedAt            DateTime              @default(now())
+  article              Article               @relation(fields: [articleId], references: [id])
+  articleId            String
+  uid                  String
+  label                String
+  articlePriorityTerms ArticlePriorityTerm[]
+}
+
+model ArticlePriorityTerm {
+  id                String           @id @default(cuid())
+  createdAt         DateTime         @default(now())
+  updatedAt         DateTime         @default(now())
+  articlePriority   ArticlePriority? @relation(fields: [articlePriorityId], references: [id])
+  articlePriorityId String?
+  uid               String
+  label             String
+}
+
 model ArticleSummaries {
   id               String   @id @default(cuid())
   createdAt        DateTime @default(now())
   updatedAt        DateTime @default(now())
```


