# Migration `20200921010600-migration`

This migration has been generated by A. David Thyresson at 9/20/2020, 9:06:00 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Entry" ADD COLUMN "entryStreamId" text   

ALTER TABLE "public"."Entry" ADD FOREIGN KEY ("entryStreamId")REFERENCES "public"."EntryStream"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200921010352-migration..20200921010600-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,9 +1,9 @@
 datasource DS {
   // optionally set multiple providers
   // example: provider = ["sqlite", "postgresql"]
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider        = "prisma-client-js"
@@ -16,16 +16,18 @@
   TWEET
 }
 model Entry {
-  id           String       @id @default(cuid())
-  createdAt    DateTime     @default(now())
-  updatedAt    DateTime     @default(now())
-  uid          String       @unique
-  documentType DocumentType @default(TWEET)
-  document     Json
-  tweet        Tweet?
-  article      Article?
+  id            String       @id @default(cuid())
+  createdAt     DateTime     @default(now())
+  updatedAt     DateTime     @default(now())
+  uid           String       @unique
+  documentType  DocumentType @default(TWEET)
+  document      Json
+  tweet         Tweet?
+  article       Article?
+  entryStream   EntryStream? @relation(fields: [entryStreamId], references: [id])
+  entryStreamId String?
 }
 model Article {
   id             String          @id @default(cuid())
@@ -89,8 +91,9 @@
   name             String
   description      String?
   streamIdentifier String
   continuation     String?
+  entries          Entry[]
 }
 model Tweet {
   id              String          @id @default(cuid())
```


